/* eslint-disable no-console */
// AoC Challenge Day 25

// eslint-disable-next-line import/no-unassigned-import
import "./extensions";

import { Map2d } from "./map2d";

export { dayTwentyFivePartOne, dayTwentyFivePartTwo };

/*
// Test values
const lines: string[] = [
    "v...>>.vv>",
    ".vv>>.vv..",
    ">>.>v>...v",
    ">>v>>.>.v.",
    "v>v.vv.v..",
    ">.>>..v...",
    ".vv..>.>v.",
    "v.v..>>v.v",
    "....v..v.>"
];
*/

// Real values
const lines: string[] = [
    "vv>v......vvvv.v...v>..v..>...>>.>.vv>vv>.v>v...>....v...>>...>..>..v..v.>.>.>v>v.>v>.v>.v.>.>>>>>>.>>v..v...>v..vv>>v.>.vv.v.>>.>.>...v>v.",
    "v>...>>..>v.>>v>...vv..>>..>>v..v........>>.v.>>.>.vv.>.>.>....v.>>.v..>.>>.v.....>.v>>vv>...>>.>..>>..>...v.>...>v.>.....>v>.v>v>>>..>..v.",
    ".>vv..v.>...v>vv.vv..vv>.>...>.....>v....v>>>.v>v.>vvv..v>...v>.v....v>vv>...vvv.v>.>>>>...v>.vvvv>v>vv>.>.vvv.........>>>v..>..vv>...v..>.",
    "..v>>.>>....v..>>v.>.>...>>>v.v.vv.......v>..v>vv>v>v.v..>.>>..>v...>vvv.>.v>>v>v>..v.vv....vvv>>v>vv.>>>v....v.>..v.>.vv>>>>>.....>v>...>v",
    "...>>.>.>vv>>......>vvvv>..v.>.>.>.>..>...>v.v>>v.v.vvv.>vv....vv......>.>>..>..>v.v..>.>>>..>v..>...>v>....vv...v..>>.>v.>...>v.vv>.>.v..v",
    "v....>.>vv.>>>v.>v....v.....vv..>....v..v>>v>.>..>..>.>.>>..vv>.>>.>>>.>.>>v>..>v.v>...>.>...v.>.vv..v.v...>>...vv>...>>v>.>>.>>.>.>..>..>>",
    "...v>.v>>....v>.v.v>vv>..........>.>.>>v..v>..v>.v.v..>v>v>.>vv>..vv..v.v>..>....>...v>..>.vv>.>vv.v>>>.v>>...vv>..v>>..>..v.v>v.v..>...vvv",
    ">.>.v.>...>v.>.>....>..>vvv...v....vv>>>.>>>.v..>>>v>vv>.v.>vvv>.>v..v..v.v>.vv..v...>vv....>v.v.>.v>.v..v..v....>v.>v..v>>.v>>....v>.vv..>",
    ".>.>.v.>vvv...>v.v..v.>.>..v..>.>>v.v.>>.vv>>>>..v..vv>>.v..>.....>.v>.>>>.>vv..>>>..v.vv....vvv>v>..v..>v.....v.v.v...>>>vv..>v.v..v.>..>.",
    "v>v...>...>.v......vv.....>.>>v>.>>.>v.v.v...v.>vv..v>>.v>>.>.>..vvvvv>.>v.v...v...v>..>...v...vv>....v.>>vv....v.v....vv..v..v..vvvv>v....",
    ".vv.>.>v>.v.v.>>.v........>>..>v.v.v.v..v>..>v....vv>..vv....>>...>v>.>...>.vvv>>v...>..vv.>.>>>.vvvv...v>vv..vvv..vv>...vvv.>v.>>.v...>>v.",
    ".....v...>v.v.>.>>>>>.vv>..v.vv>...vv>...v.v..vv.v...v>>..v....v>v..v.v.>v.>>vv>.....>.>>vv..v.v.vv.v>......>>>...>>...v.>.v.vvvv......>>>v",
    ".>.vvvvv>.>..>>.>...v>>>.>>......vv>>.v......v..vv..v.vv>v...vv>.vv.vv....>>.>v..>>.>.......>.>.v.....>>.>.......v.v...v>..>>>..>>>vvvv>.>v",
    ".......v...v>v..v>>>.>.v..vv>.>.v.>.v.v...v>.....>....v.....>......v....>...v.vv.>vvv.>.>v..>>>v....>..v....v.>..v...>>>.vv>>v.>..vv>v>..>.",
    "v.v>..........v>>>.v.v..>v>vvv>.>.>>>v>.v>.v>v....>v>.v...v>.....>..v.v>.v>>>v.v>...v.v>>>v.v>>.>..>.vv>v>...>>..>.>v...>.v....vv..vvv>..vv",
    "v.v..>...v...>...v...v.>..v..v>....v.>>...>>vv..v..v>v...v..>v..v>v>.>.>.>.>.........v.v..>.>.v>v>>..>...>.>.v.v>v..>>v>..>.vvvv..>.v>>.>v.",
    ".v..v>v..v>v.vv>....>v>vv.v....v..>..vv.v>.....v..>.v>v..v.>v>>>....>>.v>v.v>>...>...>.>>>..>..>v>vv.vv>>v.>>>v.>......vv>v.vvv...>>>..v>>.",
    "..vv.......v..>vv>v..>.>>..vvv.>vv>>....v.v>vv>>.>>vv...v..v.vvv.vv...v..vv>>...>.>v..v..>.v>.v>v.v..>>.>..vv>...>..>..>..>>..>.v.>v>>>>..v",
    "v>v.v....>.>.v...>.>v..>>>.>v..v..vvv>.>>.vvv..>v>>>>......>..>...v.v>>>.v>vv.>...>.>.vv>....v.v>vv.>v>v>.....>..v.v....>.vv>v..>v>.>...v..",
    ".>v.>v.>...v.>>>..v.>vv>>v>.v...>..v.....vvvv>.v..>..>.>>..vv..>.>.>>........v>.>.v......>.v..>>v.>v....v>.v.>v.>.>v.>.>>>.>...>vv.>.>.v..v",
    "v..v>.>.>.>.>>v......>v..>.vv.>.>>..vvvv..v..>..>....>>>v.v>.>..v.v>v>..>v.v>>>>v.>....>.v.>v.v.>>>..>.>>.vv..v>v.v..>.>..vvv>v.vv..>v.vv..",
    ".v.>...vvv.v.>.v.>..v...>.......vvv.....v.>.vv>vvvv..v.>..>..>>>...vv...v>vv>.>.v>.v..v...vv.v.vvv...vvv.>v.>>...>v...>.vv>>.>.>v>>v.>>..v.",
    "v.v>>v>v.>...>.v>..v>vv...v>.v........>..>v.vvv>..>>..vv>>..vv.>....v>>..>vvv.>....v>..>>v.>.>v.>.v>v>>v...>...>>v.>>>>>.v>...v>>....v..>..",
    ">v>>.....>>.v>vv>.v.v...>.v...>>>.v....>v.>.>.v>>v.v.......v.v>>>>v.v.v>v.>..>v.v>.vvvv...>.>.vv.>>.vv.v.>v.>>>>v......vv..>v..>....v>>v.>>",
    "vv>vv.v.>.vv....v..>.v......v>.vv...v..>.>v.vvv..>.>vv....v>.>.>..vv...>v>>v..>vv.v.>v..>v.>>...v.v..>..>.v..vv>v>v>...>v>v..>>>.>...vvv>>.",
    ".>.>.vv.v...v>..>...>...v..v>v...>..v.vv..>..v.v....v.>v.v>>>>>..v.v.>...vv>vv>v.>....v..vvvv>>......v.v>..vv.....>>v...>.v>vv...v>>..>.>.>",
    "vvv.v..>.vv>....>vvv....vv.>vv.v.>v.>v>...>.vv>>..vv.....>>>>...>.vv.v.>v.v..>v>>vv>v..v>>....v>.>>.....>>vv..v..v>v....>..>..v.....>vv....",
    "...>...>vvv.>.....>.>vv...>v..v>>.>>..>>.v>>>.>>.>...v...>vvv.........v>....v>>v>....v.>...>.....v..v...v..>.....v..>v>v...>v.v..>>.v..vv>.",
    "..>.>.vv...v.......vvv>.>..vv>v....>v....>.>...>v>v...>.>>.vv.>...v>....>.v........v....>.>.>.v.v...>v.>v.>.v>>>vv..v>.>..>....>.>.v...>v..",
    "v.......>.vv>.v.......>...v.>..v>.....>..>v>v.....v....>vv>>..>v..vv>...v>..v.>v.vv>v...v.>vv.>v...>>.vv>>.>v.>.>.v...>.>>.v.v..vv.v>vvvv.v",
    ".v>..>..>v..>.v>.......v>...v>>>..>.v>v>v.>..v>..vv.>v...v.>v.>v>>.vv...>v..>........>.>..v.>....>v..>..>>....>>.>.v.>vv.>.>.v.>>..>.v...>v",
    ">v....v...v.v..>>.v....v>.v..v..v.v.........>.>>v>..>.>..>>v..>v>vv..v..>.v..v.vvv>>>vv.v.v.v.v..v.>v>.v.v>.>...v..>v...>v..v>>>..v>>..>.v.",
    "v..v..>..>v>...vv>>vv>.>>>.......>.v.vv..>..vv.vv......>......v...v.vvvv>.v.>.v>..>...>>>>vv.>.v.>>.>.v.v>v..>>vv>>>.....vvvvv...v..>...>..",
    "..v.>v>..>.vv....>v.....>>...>v...v..>..v>.vv>..v..vv....>.v....v.....>..v.....vv.v>v>..v......v...v>v.......v..>.>..>>v.....v>.>.v.>.vv...",
    ".v>>vvv>..>v>.>....vv>v..>...v.v..>.vv.....v>>v>>.>v.>.....v..v.>..>.v>.>.>v..v>....>>>...>...>.>..v.>>.>>v...v..>v>.>...v...v>v>v.>>......",
    ".vv.>v>.>v..vv..v..vv>v.>>>....vvvv>v....v...>.>..>.>..>..v>.v.v>.v..v...>.vv>.v..v.>v>>.>..v.v>.>.v...>>v..>v..v.>.v>v>.vv..>...v..>.>vv..",
    "...>.>.>>v.v.v..>.v>.v>.v.vv..v.v...vv...>.vv.v>>...v.>vv.>.v>..>>v>.vv....>.>..>v.v..>>>..>v.v.>vv>.>.....v..>v>>.>.vvv..>....v>.v>vv>...>",
    "v...v...v..>.v>.v..v.v>v..vvv.>.>....v>>...>>.v>...>v...>...>..v>v...vv>...v...>.>>.>.>.....>v...>..vv>v..v.>..>v.v.>v..>>>.v>>.>v.v.vv>.>.",
    ">..v.....v.v>v.....>>vv..>.>.>.....v>....v>v>>.vvvv.>.v...>vv..vv..v...v.>..v..v.v>.v.>v>..>>vvv..>vv..vv>.v.v>>vv>vvv...v..v....vv..>.>...",
    ">v>..v.>>>...>...v>.>.v>v...>v>>.v.>>v>.v.vv..v.v>.v>.>>..vv>..>v>>.>......>.v>..v.v.v.vvv.>v>v.>.>vv....vvv..>.v....v...v...>..>>vv...>...",
    "vvv...>......v>>>..vv>.>>....>.>>v...>.>>.>.v..>>>>.>>...>.vv.v.>.v>.>..>>.v>..>.>v.>..>v.v>vv..>..>>.vvvvv.>.>v.>..v...>>>....vv>>.vv.>vv.",
    "v.>>.>.v...v..>.v.>v.....v.....>v...>.>..v..>.....>vv....>..>>v>vv..v.>..>........>.>..vvvv>....v.>v>v>...>..v.v.>.>vv>>>v.v.>>..>.v>>.vv..",
    ".>v.v>.>v.>>..v.v>....>v..v>.>..>..vv>>v..>vv>.>.v..>vvv>.>>v..v..>...>v.v.v..>...>...>.>>..>..vv..>vvv>>.>v...v>.v>..>vv..v.>v>.....v>v>.>",
    ".v.v...>..>v..>...v>v>.v>>..>.vv..v>>v.>>..>.....>>>>>>>..v....v>.>>>v>.v...........v.v..>v.>>>v>v>>v...>..>v...>.v...>..>v>.>.>>.>>...vvv.",
    ".v...v..v>..>...v.vvv..>..>vv....>...>v>v....>..>v.>>.>>v>.....>>...>v..>..>...>vvv.v...v>...vvvv.v....>.>vv.>>>>....>>>..>..>.v...v>..>v..",
    "..v.>..>....>.>>.>>v.v......v>.>>.>.>.v.v>..>>....>...v>>>.v>.>.>vv.>>.v>..v.>.>.v>>v..>...>v>v>.>..v>.v.>>.>.>>.....>.v>vv..>>vv...v.....>",
    ".vv.>.>v.>>v...>....v...v..v>.v>.>.v.>>>vv...v.v.v>.>>..v>.>...>.v..v>.>.vv.>v>.>...>.>.v...vv.v.v.v..>>..>.>.........>..v>.>.>v>v>.vv>.v..",
    ".>..v>>.>>v.v.>....v....v>v......vvvv.vv.vv.v....>.>.>.v.>v.v...>v.v.v>.>.>v..v..>>v>.>>vv.v>>......>....vvv.v..v..v.>..>>.>>...vv.>>v..v.v",
    ">....v.v>.>.>..>....>>>..v>.>.v..>....>.v>.v>.vv....v..vvv.>>..>>>>.>>vv.>..>.vv.....v..>>..v.>>v.>>..>.v....>>..>>...v>....v>.v>.v..>v>.>.",
    "v.v..v>v...>>v>..vv.>..v.>>v...v..>v.....v.v.>v.vv.....>>v>>vv>.v..>..>v..>v.>v.v..v>v>.v.>....>.>..v>.>.v..>..>v....v...>vv..>v>..>...>v..",
    "v.>vv>.v...v>v..v.v>...>>v.>.>v...v.>...>......v..>.vv.....>v>v.vvv..v.v.>>v>v>v>..>..v>...>..>..>>v>>..>....>v..>>.v.>>>>.>..>........>>..",
    "vvv.>>.....v.>v.v.>.>.vv.>.v....v.v>>..v.v.>v.v.v.v>.v>..v.....v>>v.v.>..>v...v>v.>.v.>.v.v>v.>....>>vv..v..v......>v.....>.vvv.v>>.v>.v.>.",
    ".v.>>v>.v>.>>..v.v...>v....v.v.v.v....v.....>vv>>.....v.>v.v..>>..v..v.>>v.>........v.vv.>v..>.>..v>..v.v>.>>..v..v...>..>v.>>v>v.>v.>..>.>",
    ".vv...>v>v>.>.>...>>.........>.v>..>.v.>>.v.>>>...v.vvv>......v.vv>v...>v>>vvvv>..>..>v.v>vv>.>v..>....>.>.vv.v.v>..v.v.....vv.>>.....>v>..",
    ">...>..>....>...vvv>.>....v>...vvv...v...>.v>>vvvv..>.v>..>...>.v>>v.v.v>>>..v>>>v>>>.>>>...>..>>.........>>.>vvv.>.....>..>...vv...>....v.",
    ">v>>..>..>v..>.vv..>...vv.>.v>v...v>.>...v.v>...v.v...>.v>.>...v.v>>..v.v>..v.>>.>>..>vv>v....v>v..vv>v..v>v>>.....>.>>>v>v..v>>....>v.>.v.",
    ">.>.v.v>v..>>...>..v..v>...>>vv>.v.>.v>>.vv..v.>..v>v.>v>v.>.......>.v>>v..v.>v.vvvv>>v.>v..v.>>vv>.>.>.>.vv>>v..>.>v.vv.v>..v>vv.>.>>..>.v",
    ">.v.v.v.>.>>..v.>.>>.v..v.>.v>.v>.vv...v..v..vvv.v.v.v..>vvv>.v>.>..vv.v.vv..>>v>..v>.>.>.>.>.>v...vvv.>..>..v...v.v.v>.v.>v.>......v..>...",
    "..>.vv>.v.>.>.v.vv.>>v.>v..v.>.v...>.vv>v..>>.v.vvvvv>..>v>>.v.v..>>...v.vv..>..vv...>......>>>....>v..>..vv..>..>v..v>..>..>..>>.v>v...v.>",
    ".>.>>v.>....vvv....v.>.>vv>.vv>>>>....v.v.v>>>.>..>>..>>>..>>..v.>v>>..v>.vv>v.v>.......v>v.>..vv.>v.v..>v>.>..v.v>...>>>...v>..vv..v>vv..>",
    "..v.>>...vvv.vv...v>v.>>.v...>>>>.vv>v.>>v..>vv.>......v...vv.v>>v.v..v.v>.v.....>v>.>.v...>>..v.vv.>>>>>>>v>....>v..>vv.>..>..>v>>.v....v.",
    "vv>>>.v......v..>.vvv.>.>.>v..v.>v>>>v>>....vv>..>..>v...>..vvv........v>>>..v.>v>v.v>..>...>v>>>v.>...>...vv>v......>.>vv..v>.>>.v...>....",
    ">.>..vv.v..>>>v...vv>>>v.>>.vvvvv>>.......>>..v..vv>>v...v....v>v.vv.vvv........v>.v....v..v.>v.>..>>....>>..>vv...vvv.....>>>.>v>>v.v>v.>>",
    ">>.....v.v..>vv.>.....vv.>>>..v..>>..vv>vv..>>v>v.>.>v.>..v.v...>.v.v>.>>.....>..>>.>.v.v>...vvv..v>v>>.....>..vvv.>>>.....v>>....v...>>>>>",
    "...>vv.....>>>vv.>..>>>v.v.v>v>...>>>v..>.>...>.>>...vv.vv.>>.>>>...v...>>.>..v..vv....>..v.v.>v...v..v>.v>..v.v>>..>.>>>>.v.>v.>v.>v.>.v.v",
    "..v>>.vv.v.vv.>v.v>>v.>>>..>.>v..vv.v.....v..v>v>.v..>....vv.vv.>vv.v...>.vv...>..>v...>..v>v.v.v..>>.v..v>.v..>.>vv.>.v>vv>..v.v>.v...v>..",
    "v>.vv....v..>....v>.>v..>...>>.>>v>>..v..v..>v>..>>v...v..>..v....>v..v>..v.>v>v>...>..>....>.>>..>vvv......>...>.>.>...v....v>>v.v>>>.>v.v",
    "v..v..>v.v...v>>.>..>>..v.v.v.....v>...>>.....>.>>..>..>.>..>.vv>.>>>v>>v.>.>>..>...>..vv....v...>>..>>v>.....v>...v>..>v....v.v>vv>>..v>.v",
    ".v.vvv.v>>.....>...v.vv.v.v.....>>v.v.....v....v..v..>...v..>>.>.....>>>>>.v>..>v>vv.vv>.....>.>.>v...vv...>.v.....v....v.v.>......vv..v.v>",
    ">v..v.....>...vvvv>>..>>>.>>v.>>.v.v.>>v..>.v...>.>.v..vvv...v.>.....v..vv>v>>.v.>v.....>...>>.v>...v>.>..vv.v...>.>..>v...v.v.>>..>v>.>...",
    ">....>v>.>v>vv>v..>..>v....v.>>.>.>...v..>>v>v>>v....>vv.vv>>v..>>>.....>>>vv.vv...>v..>>>>.vvv.....>...>>vv.v....>.>>>.v.vv>.....>...>>v.v",
    ".>vv.>..v.vv.>>..v>v>.>.v>>.>........>.v.v..v..>>vv>>>..v.....v.v>..>..>.v.vvv....>.>v>.v.vv.......>v....v..>..>...v>..vvv..v...vv.>.vv>..v",
    "...>v......>..v.>>.>.v>.>.......>>v..vv.>>>>v.v>>v.>...>v..>.v>..>>v>>vvvv.>..>>v.>>...v>>...v......>vv..>..v.>....>>.>v>.>.>v.>>>v.v......",
    "..v.>v..vv.....>...v...v>v.>.v>...........>>>..vvvv>......v.vv..v..v...v....>>v.v.>.v.....v..v>.vv.>>v.vv.>...>v..vvv..>..v.>>.>..v>...vv>>",
    "v>......v..>..>vv.>>v.vv..v....v..>.....v....>..v.v>...v>.>....v>...>.>.v.....>.v>.>....>>v>v.>.>vv.>>v..>.vv..>>vv>..v.>.>v..v..........>.",
    "....v.v>....>..>>..>...v..>..>>vv.vv.vv>..>..vvvvv.>.>v.>>>.vvv.>v..v.>>>..vv...>v>..>.>v...v...v...v.v>vvv>>....>..v>.v.v.v.....>>.>v>..v.",
    "..>..vvv..v>>>.>v...>......v....>..>.>...v>...>>.v>.v..>....>..v>vv>..>>.vvv.>>v>..>.v..v>.vv.....v.>.v.>....>>...>v.>v>vv>.......v....>..>",
    ">>.v>.>v..vv....>v>>>v.>.......>.>...>vv>v....vv.>>v..vv..>v..v>>v>.....v>v>.>...>>..vv.>.>v..>.......v..vvv.v..v...>.vvv.v.>vvv...>..>...>",
    ">.vvv.vv.vvv.>>.>vv...>.>.vvv.>>..>>>>...>v....vv>.>>>..vv.>>>>.......>.vv...>>>v..v>vv...v.>...v.>..>v>..v....>.v.>...>vvvv...>vv..vv..v.v",
    "....v..>...>v>>v..>....v>v.v.>v.v>.v.v....>...v..v>>>.>..v...>vv>..>...v.v...>vv.....>v.>.v...>>.>..>v.>.>..v....>>.>>v...v.>.v>.>..v>.>.vv",
    "...>.v>v>>..>.v.vv>.>....v>.>.>>.vv.......>>vv>vv>.>v>.>v...>.v.>.>.>>v..>>..vvv>.vvv.v.vvv>>..>v>.v.>..v...v.>.v.vv>.>>>>.>v......vv>.....",
    "....>.>.v>>v>>v.>.>.v...v..>.....>.vv...>v>.>v>>v>......>.>v>.>..v.v>vv..>....>>...v.vv..v..v>v>v......v.v.>...>v.>...v>>v.v....vv...>>.v.v",
    ">.v..v..>>v........>.v...v..>.>>>v..vv.v>vv.v>>v.v.>v...>...>...>.>.>.>.v>......>v.>vv>>>...v...v>vvv>..>vvv.>>v>>.v..v>.v.vv..>v..v>>v.>.v",
    "v..v..>.>>.>>.>v.v.>v>>..>.>.>v.vvv.>.v>.>>..>v..vv>v.>>v.>>v.>>.>...v.v...>.v..v....>.v>v>.>.vvv.vv.>v...>v>v>vv...>>..v>....v>>...v>>...v",
    "v..vv>>...v>...vv>>>>v>..v>.>...>.vvv..vv.vv.>>>>>>...>>..>v>v..v.v..v.>v>.>>>>...v...>.v.>.v.>v..>vv>........v.v.>..>..>v>...v.v.>v>..>...",
    ".>....v>..v.v..v>v.v...v>..>......>>.v....>.v.....v.>....v.>.>.v.>v.>.>v>>>>v....v..>..v...v.>.vv.>>.vv.>>..v..vvvv..>v.v..>..>.>>>>..vvv>v",
    ">.....v.....vv...v.v..v....v>v>..v>v>>>vv..v.>..>.....>>>......>>v..>..>>.vv>vv......>v...v...>v.v>>.>.>..v.v.v>>>.......>>.v.>>>v.vv.>vv.>",
    ">v...>..>.v.>vv.v...>...>v..>vv....>>v...vv>.v>vvv.v.>.>vv....>..>.vvv>.vvv...v>>.>v>v>.v.vv>>.>...>..>..v..v>v.vvv.>v.>>.....v...v>v>>v.v.",
    "v>>.....vv..>..>......>v...v>>v.>...>>>v.v....v.>>>.vv.v..>>v...v.>vv.v.>.>>vv..>>.v.v>..>>.>..v>..vv...>.....>...v>>>.>>vv.....>.v>>vv>...",
    "v.....>>.>.v...>v..v.v.v>..v.v>>...>v.v..vv..vv...v>.>>.>...>v>>>.>...v.>>>...v..v>>>..>v.>v....>...vv.>>v>.v.vv.>vv>>v.>.vv.v.vv...v..v.v.",
    ">v>v.>.>>>>..>.v>..>...>......vv.v......v>v...>>.v>v.v>.....v>>>v>..v>>.>v..v.v>vv>v...>...v>v...v...>..vvv>..v.>v....v..>>..v>...v>v.>.>..",
    "...>>..>v>.......vv...v......vv>v...>v.>.>....>.vv.vv.vv>>vv>.v..v.>>....>v.>...>v>>v>....>v>...>>..v.vv>vvv.v...>.>v>>vv....v.>vv.>.>.....",
    ">...v>v>.>>.....v>>...v>.>v.>.>>v>..vvv>.v.>vv>v.>v.>v>.>>vv.....v.v....v..v...v..v.>.>v.....>...>>>>..>.vv.v.....v>.v>..v>.>v>v>...v..>..v",
    "v>.......v>>......>vv.vv>..v.>.>>..>>...v.>.>.>.vv>v>vvv.v..>>>.vv.>..v.>vv.>>.....>..v>vvv>.>.v>..>v......v>>.>>vv.v.v.vv..>vvv>.>>.>...v.",
    "...>.v..vv.vv.v>vvv.>.v..>vv.vv..>v>..>.>vv>...vv...v....v>...>v.>vv>...v>v..v.>..v.v>.>.v.v>.v.vv>>..v.v.v>v>..>.v.>>....v..v..v..v>..>.>v",
    "vv.v.>.>v....v..vv>>>.>>vv>v.>..v..vvvv.>.....>>.v>vv..vvv.>.>.>.>v...v>vvv.>..v..v...>.v>.>...v...vv.v.>>v>v>.>>.vv>.v.>>v..>.v.v>.v.v.vv.",
    ".v>vv...>.v....v>..v...>v.v.>.>.>>.vv>.v.....>...vv..>>>.v....>v...vv>v.v.>.v.v.vv..>v.>.....v...vv...>>>>v>v....>..v...>....v..>v.v>..>>.>",
    "..v>.v>>.>..>>..v>..>.>..>.>.v..vv.v>.vv>>.>.v.v..v.>v.>.>>v>>>.v..>>....>....vvv>...>..>.vv...v.>...>.>.....>>vv>>.>..v.>v.>....>.v.>....>",
    "...>.vvv>>.>>.v..v.vvv..>.>.....v......>>vv>v.v.>...vvvv>>v>v.v...v.v..>.>v.>.v.v..>.v>..v.v.>>.>.v.....>..v.....>...v.>v...>.v..vv>...vvvv",
    ">.>>.v>v>>v.>..>v>........vv....>...>.>>.>.v..>.v.v.>vv>...>v.>>>>.vv...>...>.v....>>vvvvvvv>vv.vv..>vv..>.>v.>..>..v.....v..vvvv>.v..v>.v>",
    "v.v.v..vv>..v.v..v>v..v>....>>..v.vv....>.v....v....>>.>vv.>.v>.>.v>>...>.>.>.v>v.vv.v.v.>...v>..>>>v>.>>>>v.v....>.....vv.>v.>vv..>.v.v...",
    "...v..v...>v...v.v.............>>vv....vv>vvv>>>.v>v>vv>v>..vv>.v>..>>.vvvv..>v.v.>>>v....>.v>..v.>v>>.v>...>>.vv...v>v...v.vv.....>>>>....",
    ">>.>..v..>>v>.>vv....vv>v.>.>.v.....v...>>.>.>......v.v.vv.v...v.v.>>..v........v..vv.>>.vv..v.v.>>>>vvv>....>v..>vv..v>.>.>v....vvvvvv>v..",
    "...vv>>v....v.>v.>..>.>......v>.>.v.>.>.>.v.v.>.>.>.v.vvvv>>.>.vv..>v.>.vv.>>..v>v.v.>.v>v.>.v>vv..>.v..vv>vv>.>v.v.v>......v..v.>v.>v.>..>",
    "v.v>.....>v>.v.v.>.v...>.vv>v>>.....>....>..>.>.v.v..>v.vv..vvv>>.vv>..>>v.v..v.v.>.v.>>..v.>vvv...v>>..vv>vv>.>>.>....v>..>v>.....>v>>v>..",
    ".v..vv.>>vv>.v>..>>>v.>v....v.>v>...v>.v.v....v.>.>>..vv>>.........vvv>.>...>v.>.>.>>>>.vv>>.>...>>..>v..v..>>>..>v>v>...v...>.>v...>......",
    "..>>>.>v>....vv.>....>.>.v..v>...v..>.>.v>.v.>...v>>v>v.v..v>.v...>vv.v>.>>.>>....>..>>vv..vvv>>v.vv...v.v..v.>>.>v.v.v.>.vv.>....>vvv..v..",
    "....vvv>.v>.v.v>v.v..>....v.v>.v...>>v...>.vvvv.vv.v..>vv..>>...>.v.v..v...>..v.vv>>v.>..>v.v.>>..>.>....>>vvvv>vv....v.vv>v.>..>vv>v>..v>.",
    "...v.>>v...vv>v.>vvv.vv.....>v>>....vv...v>.>>>.vv>.v>v...>.v.>...v>..>>>.>vv.v....v...>>...>vvv>.v.>vv>.v...>>>......>v.v.>>vv.>.>..v.....",
    ".....>v>v.v..>v.v>.v.>..v..>>>vv>...vvv>...v..v.>vv..v>>.v......>....v.vvv...>...v.v>...>...v.v.>v..vvv.v>v>.v.v>...v.>vvv>>>....>>..v...>v",
    ".>.>v>.>...>..v>>>v..v.v.v..>..v.vv..>....>.vv>.>...v.>>>>>....vv.>v.>>..>.vvvv.v..>.v..v..>>..v.v.>..>.v....>v.....>v...>.....>v.>v.v.>...",
    ".>>v.v.>v.>vvv>......>v>>>v..v.vv..>>v>.>...>>.>.....vv..>>.>.....>.v...>v.v>..v........vv..>>vv..vv..v>.v....>>>v.vvv>.>v.....v...v>...v..",
    "v..vv..>>...v.>..v..>.>...v.>>v.>.....>>.>.v...>v>v...>>>>.....>.>>.v>...vv...>v.v.....>>.>..>.>...>....>...vv......v.>>v.vvv>>.>...>>..>>>",
    ".v...>>.>..v..vv>.>>..>.>vvv.v.....>v>.>..vv..>>vvv>..>v.>>..>....v>>>....>>.v..v.v..>>.>vvv.>vv.v.>>.v>.......vvv..vv....>.v>>v.>>>>>.>vv>",
    ".>.>..v...>..vv.>..v...v.>.v>>v.>.v.v>>v..>>>v>>vv.>v>v..>..>...vv.....>>..v..>>>.vvvv..vv..v.>..>>>...>....>v..>..>>..>..>.>.>>..v....>...",
    ">v>.vv..v..v.v>...>>.....>.v.>....v>..>>vvv.>>>.>v.v.>...vvvv.>v...v>.>.>v...>>>>v>..vv>>v..>v....vv....vv>......v....v...v.vv..>vv>>.v>v>v",
    ".>vvv...v>v...v..v>.......v>v>>>..v..v..v.>....>...>>>.v>.v>..v.vv.>v>v..>.v...v...>v.>v..vvv.v.....>.>.>>.>>>>vv.....>v>v....v.....v..v.v.",
    ">>.>.v..v.v>>....vv.>.v.....>...v>v...>v....v>>.v.v>......>..v>.>vv.v..>>>v..v...>...>vv.>..>>.>..>v.>v>.>v>...>>...v.v..v.>v.>..>..vv>.>v.",
    ">>.v>v.vvv.>>....>v..>..v>>>..>v.>....v>...vvv....>.vv....v>....>.vvvv.v.v.>..>v..v.>..vv>..v.>...v>.>>>v>v>v.>..v..v>..vv..>v.v.>.>>..v>v>",
    "...>..vv.>......v>.v..>v...>>.v>.v>v..>>..vv.vv...>>.....v>....v.>.v>>v..>v..>....>.>>.v>.>vv..vv>...v>.>>>..>>>..v.>v.>.....>>..v.>.v..>..",
    "v>..v.v>v..v>>v.....v.>>....v..v..>>..v>..>>.v.v.....>..>>>...v....>vv>..vvv.>>......v..>>>>>........v..>>.>>>.>>>v...v.vv..v.vv.v..>vv..v.",
    ">v..v...v>v.v>vvv...vv.v.v.>......>.>.v.....v>>....>>.v...>vv.>...>..vv>..>...>v.>>...v.v>>v...v..>>v>...>vvv....>v..v..>..>....>.>.v.>>vv.",
    "...>v>>>.v>.>vvvvv..>..>.v....>..vv.>>.>...v.....>.v.>.v..v.>>...>.v.v...>>.v>>..v.>.vv...vv.v.>....>.v>.v.>v.v>.>>...vv>vvv>>>>v.vv...v>v.",
    ".v.>v...>.v.v..v.v.v......>>v..>....>....>>..>.v>v>>.>.>..v.>....>..>>.>...v.v.>>......>v.>>v.vvvvv>v.>.v>v..>.v.v...>..>..v....v.>v.>>.>v.",
    ">.>v>v>v.>v..>v.....>..v...>>>v>.vv...v>.>>...vv.>v.v>>>..v...>.>>>..v>v>v.vv>>v.v.>>..>.>.>....>.v>...>>..vv>.vvv>v..>>>.v.>.vv>>>>.vv>vv.",
    "v>>.vv..>..v...>v>.....>.v..v>..v...vvvv.v...>v>>....>...v.>>.>>....>>...>v...v..>>>v.vv.vv>....v>..vv..vv.>.>>...>..v>....>>..v.v>>...>>>v",
    "...v>v....v..>..v.v.>.v.>.v..>vv>v.v.v.v.v.>...v>.v..v....v>v..>>.>>>>..>.v...>....>v..vv.v.vvvv...v>>....>..>.>v>v>..>......vv>.....vvv>>.",
    ".>.>v.>>..>..>.v.v....vv>>>v..>..v>v>v>v>...>>v>>>.vvv...>v>>v..v.vv.>..v>......v>......>>..>.v>>.>>>v>v..v>.vv>v......>>.....>v.v>....vv..",
    "vv>..vvv.v.v.v......>>v...>>.vv....vvvv.>.v>v>.....v.>>v...v..v>..>v..>..>>...>>.v.vv..v>v>.>>.>v..>>v>vv>v>>.>v..v.>.....>...>v.vv.vv.v>..",
    "..>v...v.v.v.>>...>.>>v>.>.v..>.v.>...>...>>v>....v....>>..v>>..>>v>>.>..vv..v>v...v.>.>>.>.v>.>.vv>vvvvv>>.v>.>v>v..v.>v.>...>v>....vvv.vv",
    "v>v..>>v>...v...>v>....>>v..>v..>>.>>.vv.>..v...>>......v..vv.vv..vv.>>>..>.>>v..vv..v....v...v>..v..>.>..>v>>v.>..v..v>.>v.v>..vvv...v>>..",
    ">>v.v>vvv.v...>>.>v..v>....>....v..>>.v>>v>v.v>.........v>v>.v..>.v.>>.>..>....>vvv.>...vv.>>...>.vvv....>.>.v.vv.v>..>..>>>..v..v>>.v.>.v.",
    ".v.v.v.>vv.v..>>vv>v>v>..........>v>.>.>.v..vv..>v>>>v.vv....vv>vv....>>v>.vv>vv..vv..v...>v..v.>>vv.>.v.....vv>v.>.>v>>.>>v...>.>.v.v.v>.v",
    "v.>>vv.>..>..v.vv....>>..>v>v.v..vv.>>>v.vv..>.>>v..v......>>.>>>..>>...>>>>>v>.>>.>>v>.v>>vv.>v...v..v..v.v>...>>>.v>>.v.v..>.>...>>....v.",
    ".>vvv>v>...v>v>..v>>v.>...vvv.v..>>v....v>>vvv..vv>....vv>....vv>v.v.v.>>.v>.....>.>......>.vv.>v...>..>v.v.v>v.vv....v.v....v.>.>>...vvv.>",
    "..>v>>...>.v...>..v>>.vvvv.>v>..>...v.v>.v.vv>>v>vv>.>v.>>v>..v.vv.>v>>.v..>v>>...>v>.vvv..>.v.v.>..>...>>v.v..vv>...vvv.vvv.>>.v.>vv>v>v.v",
    ">..v>.v.>>v>>..v.>>....vvv.v..v.>....>>..v.>>>.vvv.v..v>vv>>....v.....v..>v.v>.>.vvv..>>.>..>.v.v...vvv..>v>...>vvv>.>vvv>.v>v.>>..>.>..vvv    "
];

function updateRight(map: Map2d): number {
    const mx: number[] = [];
    const mxn: number[] = [];
    const my: number[] = [];
    for (let y = 0; y < map.height; y++) {
        for (let x = 0; x < map.width; x++) {
            const value = map.getValue(x, y);
            if (value === undefined) {
                throw new Error("value undefined");
            }
            if (value === 2) {
                let xn = x + 1;
                if (xn === map.width) {
                    xn = 0;
                }
                if (map.getValue(xn, y) === 0) {
                    mx.push(x);
                    mxn.push(xn);
                    my.push(y);
                }
            }
        }
    }
    for (let i = 0; i < mx.length; i++) {
        const value = map.getValue(mx[i], my[i]);
        if (value === undefined) {
            throw new Error("value undefined");
        }
        map.setValue(mx[i], my[i], 0);
        map.setValue(mxn[i], my[i], value);
    }
    return mx.length;
}

function updateDown(map: Map2d): number {
    const mx: number[] = [];
    const my: number[] = [];
    const myn: number[] = [];
    for (let y = 0; y < map.height; y++) {
        for (let x = 0; x < map.width; x++) {
            const value = map.getValue(x, y);
            if (value === undefined) {
                throw new Error("value undefined");
            }
            if (value === 1) {
                let yn = y + 1;
                if (yn === map.height) {
                    yn = 0;
                }
                if (map.getValue(x, yn) === 0) {
                    mx.push(x);
                    my.push(y);
                    myn.push(yn);
                }
            }
        }
    }
    for (let i = 0; i < mx.length; ++i) {
        const value = map.getValue(mx[i], my[i]);
        if (value !== undefined) {
            map.setValue(mx[i], my[i], 0);
            map.setValue(mx[i], myn[i], value);
        }
    }
    return mx.length;
}

function toLog(map: Map2d): void {
    for (let y = 0; y < map.height; y++) {
        const line = map.values
            .slice(y * map.width, map.width * (y + 1))
            .map((value: number) => {
                switch (value) {
                    case 0:
                        return ".";
                    case 1:
                        return "v";
                    case 2:
                        return ">";
                }
            })
            .join("");
        console.log(line);
    }
}
function dayTwentyFivePartOne(): void {
    const width = lines[0].length;
    const height = lines.length;
    const map = new Map2d(
        width,
        height,
        () => {
            return undefined;
        },
        0
    );
    let y = 0;
    for (const line of lines) {
        for (let x = 0; x < line.length; x++) {
            switch (line[x]) {
                case "v":
                    map.setValue(x, y, 1);
                    break;
                case ">":
                    map.setValue(x, y, 2);
                    break;
            }
        }
        y++;
    }
    toLog(map);
    let step = 0;
    let isLoop = true;
    while (isLoop) {
        let moved = updateRight(map);
        moved += updateDown(map);
        step++;
        console.log(step);
        // toLog(map);
        console.log(`Moved: ${moved}`);
        if (moved === 0) {
            isLoop = false;
            continue;
        }
    }
    console.log(step);
}

function dayTwentyFivePartTwo(): void {
    // todo
}
